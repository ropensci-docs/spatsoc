<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="group_lines groups rows into spatial groups by generating LINESTRINGs and
grouping based on spatial intersection. The function accepts a data.table
with relocation data, individual identifiers and a distance threshold. The
relocation data is transformed into sf LINESTRINGs using build_lines and
intersecting LINESTRINGs are grouped. The threshold argument is used to
specify the distance criteria for grouping. Relocation data should be in two
columns representing the X and Y coordinates."><title>Group Lines — group_lines • spatsoc</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Group Lines — group_lines"><meta property="og:description" content="group_lines groups rows into spatial groups by generating LINESTRINGs and
grouping based on spatial intersection. The function accepts a data.table
with relocation data, individual identifiers and a distance threshold. The
relocation data is transformed into sf LINESTRINGs using build_lines and
intersecting LINESTRINGs are grouped. The threshold argument is used to
specify the distance criteria for grouping. Relocation data should be in two
columns representing the X and Y coordinates."><meta property="og:image" content="https://docs.ropensci.org/spatsoc/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">spatsoc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/intro-spatsoc.html">Introduction to spatsoc</a>
    <a class="dropdown-item" href="../articles/faq.html">Frequently asked questions</a>
    <a class="dropdown-item" href="../articles/using-in-sna.html">Using spatsoc in social network analysis</a>
    <a class="dropdown-item" href="../articles/using-edge-and-dyad.html">Using edge list and dyad id functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/additional-data-formats.html">Additional data formats</a>
    <a class="dropdown-item" href="../articles/faq.html">Frequently asked questions about spatsoc</a>
    <a class="dropdown-item" href="../articles/intro-spatsoc.html">Introduction to spatsoc</a>
    <a class="dropdown-item" href="../articles/using-edge-and-dyad.html">Using edge list generating functions and dyad_id</a>
    <a class="dropdown-item" href="../articles/using-in-sna.html">Using spatsoc in social network analysis - grouping functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/spatsoc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Group Lines</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/spatsoc/blob/HEAD/R/group_lines.R" class="external-link"><code>R/group_lines.R</code></a></small>
      <div class="d-none name"><code>group_lines.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>group_lines</code> groups rows into spatial groups by generating LINESTRINGs and
grouping based on spatial intersection. The function accepts a <code>data.table</code>
with relocation data, individual identifiers and a distance threshold. The
relocation data is transformed into sf LINESTRINGs using <a href="build_lines.html">build_lines</a> and
intersecting LINESTRINGs are grouped. The threshold argument is used to
specify the distance criteria for grouping. Relocation data should be in two
columns representing the X and Y coordinates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">group_lines</span><span class="op">(</span></span>
<span>  DT <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  projection <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timegroup <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sortBy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  splitBy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sfLines <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>DT</dt>
<dd><p>input data.table</p></dd>


<dt>threshold</dt>
<dd><p>The width of the buffer around the lines in the units of the
projection. Use <code>threshold = 0</code> to compare intersection without buffering.</p></dd>


<dt>projection</dt>
<dd><p>numeric or character defining the coordinate reference
system to be passed to <a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs</a>. For example, either
<code>projection = "EPSG:32736"</code> or <code>projection = 32736</code>.</p></dd>


<dt>id</dt>
<dd><p>Character string of ID column name</p></dd>


<dt>coords</dt>
<dd><p>Character vector of X coordinate and Y coordinate column names</p></dd>


<dt>timegroup</dt>
<dd><p>timegroup field in the DT within which the grouping will be
calculated</p></dd>


<dt>sortBy</dt>
<dd><p>Character string of date time column(s) to sort rows by. Must
be a POSIXct.</p></dd>


<dt>splitBy</dt>
<dd><p>(optional) character string or vector of grouping column
name(s) upon which the grouping will be calculated</p></dd>


<dt>sfLines</dt>
<dd><p>Alternatively to providing a DT, provide a simple feature
LINESTRING object generated with the sf package. The id argument is
required to provide the identifier matching each LINESTRING.
If an sfLines object is provided, groups cannot be calculated by timegroup
or splitBy.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>group_lines</code> returns the input <code>DT</code> appended with a "group"
column.</p>


<p>This column represents the spatial (and if <code>timegroup</code> was provided -
spatiotemporal) group calculated by intersecting lines. As with the other
grouping functions,  the actual value of group is arbitrary and represents
the identity of a given group where 1 or more individuals are assigned to a
group. If the data was reordered, the group may change, but the contents of
each group would not.</p>


<p>A message is returned when a column named "group" already exists in the
input <code>DT</code>, because it will be overwritten.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
<div class="section">
<h3 id="r-spatial-evolution">R-spatial evolution<a class="anchor" aria-label="anchor" href="#r-spatial-evolution"></a></h3>


<p>Please note, spatsoc has followed updates from R spatial, GDAL and PROJ for
handling projections, see more at
<a href="https://r-spatial.org/r/2020/03/17/wkt.html" class="external-link">https://r-spatial.org/r/2020/03/17/wkt.html</a>.</p>
<p>In addition, <code>group_lines</code> (and <a href="build_lines.html">build_lines</a>) previously used
<a href="https://rdrr.io/pkg/sp/man/SpatialLines.html" class="external-link">sp::SpatialLines</a>, rgeos::gIntersects, rgeos::gBuffer but have been
updated to use <a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">sf::st_as_sf</a>, <a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">sf::st_linestring</a>, <a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html" class="external-link">sf::st_intersects</a>, and
<a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">sf::st_buffer</a> according to the R-spatial evolution, see more at
<a href="https://r-spatial.org/r/2022/04/12/evolution.html" class="external-link">https://r-spatial.org/r/2022/04/12/evolution.html</a>.</p>
</div>

<div class="section">
<h3 id="notes-on-arguments">Notes on arguments<a class="anchor" aria-label="anchor" href="#notes-on-arguments"></a></h3>


<p>The <code>DT</code> must be a <code>data.table</code>. If your data is a
<code>data.frame</code>, you can convert it by reference using <a href="https://rdatatable.gitlab.io/data.table/reference/setDT.html" class="external-link">data.table::setDT</a>.</p>
<p>The <code>id</code>, <code>coords</code>, <code>sortBy</code> (and optional <code>timegroup</code>
and <code>splitBy</code>) arguments expect the names of respective columns in
<code>DT</code> which correspond to the individual identifier, X and Y coordinates,
sorting, timegroup (generated by <a href="group_times.html">group_times</a>) and additional grouping
columns.</p>
<p>The <code>projection</code> argument expects a numeric or character defining the
coordinate reference system. For example, for UTM zone 36N (EPSG 32736), the
projection argument is either <code>projection = 'EPSG:32736'</code> or <code>projection = 32736</code>. See details in <code><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs()</a></code> and
<a href="https://spatialreference.org" class="external-link">https://spatialreference.org</a> for a list of EPSG codes.</p>
<p>The <code>sortBy</code> argument is used to order the input <code>DT</code> when creating sf
LINESTRINGs. It must a column in the input <code>DT</code> of type POSIXct to ensure the
rows are sorted by date time.</p>
<p>The <code>threshold</code> must be provided in the units of the coordinates. The
<code>threshold</code> can be equal to 0 if strict overlap is intended, otherwise it
should be some value greater than 0. The coordinates must be planar
coordinates (e.g.: UTM). In the case of UTM, a <code>threshold = 50</code> would
indicate a 50m distance threshold.</p>
<p>The <code>timegroup</code> argument is optional, but recommended to pair with
<a href="group_times.html">group_times</a>. The intended framework is to group rows temporally with
<a href="group_times.html">group_times</a> then spatially with group_lines (or <a href="group_pts.html">group_pts</a>,
<a href="group_polys.html">group_polys</a>). With group_lines, pick a relevant <a href="group_times.html">group_times</a> threshold
such as <code>'1 day'</code> or <code>'7 days'</code> which is informed by your study species,
system or question.</p>
<p>The <code>splitBy</code> argument offers further control building LINESTRINGs. If in
your input <code>DT</code>, you have multiple temporal groups (e.g.: years) for example,
you can provide the name of the column which identifies them and build
LINESTRINGs for each individual in each year. The grouping performed by
group_lines will only consider rows within each <code>splitBy</code> subgroup.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="build_lines.html">build_lines</a> <a href="group_times.html">group_times</a></p>
<p>Other Spatial grouping: 
<code><a href="group_polys.html">group_polys</a>()</code>,
<code><a href="group_pts.html">group_pts</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load data.table</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/openmp-utils.html" class="external-link">setDTthreads</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read example data</span></span></span>
<span class="r-in"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"DT.csv"</span>, package <span class="op">=</span> <span class="st">"spatsoc"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Subset only individuals A, B, and C</span></span></span>
<span class="r-in"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Cast the character column to POSIXct</span></span></span>
<span class="r-in"><span><span class="va">DT</span><span class="op">[</span>, <span class="va">datetime</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">datetime</span>, tz <span class="op">=</span> <span class="st">'UTC'</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ID        X       Y            datetime population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;char&gt;    &lt;num&gt;   &lt;num&gt;              &lt;POSc&gt;      &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:      A 715851.4 5505340 2016-11-01 00:00:54          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:      A 715822.8 5505289 2016-11-01 02:01:22          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:      A 715872.9 5505252 2016-11-01 04:01:24          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:      A 715820.5 5505231 2016-11-01 06:01:05          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:      A 715830.6 5505227 2016-11-01 08:01:11          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4265:      C 702093.6 5510180 2017-02-28 14:00:44          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4266:      C 702086.0 5510183 2017-02-28 16:00:42          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4267:      C 702961.8 5509447 2017-02-28 18:00:53          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4268:      C 703130.4 5509528 2017-02-28 20:00:54          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4269:      C 702872.3 5508531 2017-02-28 22:00:18          1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># EPSG code for example data</span></span></span>
<span class="r-in"><span><span class="va">utm</span> <span class="op">&lt;-</span> <span class="fl">32736</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">group_lines</span><span class="op">(</span><span class="va">DT</span>, threshold <span class="op">=</span> <span class="fl">50</span>, projection <span class="op">=</span> <span class="va">utm</span>, sortBy <span class="op">=</span> <span class="st">'datetime'</span>,</span></span>
<span class="r-in"><span>            id <span class="op">=</span> <span class="st">'ID'</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'X'</span>, <span class="st">'Y'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ID        X       Y            datetime population group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;char&gt;    &lt;num&gt;   &lt;num&gt;              &lt;POSc&gt;      &lt;int&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:      A 715851.4 5505340 2016-11-01 00:00:54          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:      A 715822.8 5505289 2016-11-01 02:01:22          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:      A 715872.9 5505252 2016-11-01 04:01:24          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:      A 715820.5 5505231 2016-11-01 06:01:05          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:      A 715830.6 5505227 2016-11-01 08:01:11          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4265:      C 702093.6 5510180 2017-02-28 14:00:44          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4266:      C 702086.0 5510183 2017-02-28 16:00:42          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4267:      C 702961.8 5509447 2017-02-28 18:00:53          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4268:      C 703130.4 5509528 2017-02-28 20:00:54          1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4269:      C 702872.3 5508531 2017-02-28 22:00:18          1     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Daily movement tracks</span></span></span>
<span class="r-in"><span><span class="co"># Temporal grouping</span></span></span>
<span class="r-in"><span><span class="fu"><a href="group_times.html">group_times</a></span><span class="op">(</span><span class="va">DT</span>, datetime <span class="op">=</span> <span class="st">'datetime'</span>, threshold <span class="op">=</span> <span class="st">'1 day'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ID        X       Y            datetime population group timegroup</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;char&gt;    &lt;num&gt;   &lt;num&gt;              &lt;POSc&gt;      &lt;int&gt; &lt;num&gt;     &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:      A 715851.4 5505340 2016-11-01 00:00:54          1     1         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:      A 715822.8 5505289 2016-11-01 02:01:22          1     1         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:      A 715872.9 5505252 2016-11-01 04:01:24          1     1         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:      A 715820.5 5505231 2016-11-01 06:01:05          1     1         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:      A 715830.6 5505227 2016-11-01 08:01:11          1     1         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4265:      C 702093.6 5510180 2017-02-28 14:00:44          1     1       120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4266:      C 702086.0 5510183 2017-02-28 16:00:42          1     1       120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4267:      C 702961.8 5509447 2017-02-28 18:00:53          1     1       120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4268:      C 703130.4 5509528 2017-02-28 20:00:54          1     1       120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4269:      C 702872.3 5508531 2017-02-28 22:00:18          1     1       120</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Subset only first 50 days</span></span></span>
<span class="r-in"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span><span class="va">timegroup</span> <span class="op">&lt;</span> <span class="fl">25</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Spatial grouping</span></span></span>
<span class="r-in"><span><span class="fu">group_lines</span><span class="op">(</span><span class="va">DT</span>, threshold <span class="op">=</span> <span class="fl">50</span>, projection <span class="op">=</span> <span class="va">utm</span>,</span></span>
<span class="r-in"><span>            id <span class="op">=</span> <span class="st">'ID'</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'X'</span>, <span class="st">'Y'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            timegroup <span class="op">=</span> <span class="st">'timegroup'</span>, sortBy <span class="op">=</span> <span class="st">'datetime'</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> group column will be overwritten by this function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          ID        X       Y            datetime population timegroup group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;    &lt;num&gt;   &lt;num&gt;              &lt;POSc&gt;      &lt;int&gt;     &lt;int&gt; &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:      A 715851.4 5505340 2016-11-01 00:00:54          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:      A 715822.8 5505289 2016-11-01 02:01:22          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:      A 715872.9 5505252 2016-11-01 04:01:24          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:      A 715820.5 5505231 2016-11-01 06:01:05          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:      A 715830.6 5505227 2016-11-01 08:01:11          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 857:      C 710769.9 5507380 2016-11-24 14:00:55          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 858:      C 710930.9 5507290 2016-11-24 16:00:26          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 859:      C 711004.1 5507310 2016-11-24 18:00:49          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 860:      C 711274.1 5507269 2016-11-24 20:00:24          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 861:      C 711054.3 5506998 2016-11-24 22:00:41          1        24    63</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Daily movement tracks by population</span></span></span>
<span class="r-in"><span><span class="fu">group_lines</span><span class="op">(</span><span class="va">DT</span>, threshold <span class="op">=</span> <span class="fl">50</span>, projection <span class="op">=</span> <span class="va">utm</span>,</span></span>
<span class="r-in"><span>            id <span class="op">=</span> <span class="st">'ID'</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'X'</span>, <span class="st">'Y'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            timegroup <span class="op">=</span> <span class="st">'timegroup'</span>, sortBy <span class="op">=</span> <span class="st">'datetime'</span>,</span></span>
<span class="r-in"><span>            splitBy <span class="op">=</span> <span class="st">'population'</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> group column will be overwritten by this function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          ID        X       Y            datetime population timegroup group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;    &lt;num&gt;   &lt;num&gt;              &lt;POSc&gt;      &lt;int&gt;     &lt;int&gt; &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:      A 715851.4 5505340 2016-11-01 00:00:54          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:      A 715822.8 5505289 2016-11-01 02:01:22          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:      A 715872.9 5505252 2016-11-01 04:01:24          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:      A 715820.5 5505231 2016-11-01 06:01:05          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:      A 715830.6 5505227 2016-11-01 08:01:11          1         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 857:      C 710769.9 5507380 2016-11-24 14:00:55          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 858:      C 710930.9 5507290 2016-11-24 16:00:26          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 859:      C 711004.1 5507310 2016-11-24 18:00:49          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 860:      C 711274.1 5507269 2016-11-24 20:00:24          1        24    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 861:      C 711054.3 5506998 2016-11-24 22:00:41          1        24    63</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

